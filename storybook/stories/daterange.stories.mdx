import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs';

import DateRange from './Components/DateRange';

export const Container = ({ children}) => (
    <div style={{display: 'flex', flexFlow: 'column', gap: '10px'}}> 
      {children}
    </div>
);

export const now = new Date();

<Meta
  title="Data/DateRange"
  component={DateRange}
  parameters={{
    viewMode: 'docs',
    previewTabs: {
      canvas: { hidden: true },
    },
  }}
  argTypes={{
    from: { control: 'date' },
    to: { control: 'date' },
  }}
/>


```sh
npm i @equinor/fusion-wc-date
```

<Canvas>
  <Story 
    name="Basic" 
    args={{from: '2021-08-09T09:12:49Z', to: '2021-09-09T09:12:49Z'}}
    parameters={{chromatic: { disableSnapshot: true }}}
  >
    {DateRange.bind({})}
  </Story>
</Canvas>

<ArgsTable story="Basic" />

### Distance
<Story name="Distance" parameters={{chromatic: { disableSnapshot: true }}}>
  <Container>
    <fwc-daterange from={now} to={new Date(now.getTime()+ 60* 60000)}  variant="distance" />
    <fwc-daterange from={now} to={new Date(now.getTime() + 24* 60* 60000)} variant="distance" />
    <fwc-daterange from={now} to={new Date(now.getTime() + 2* 24 * 60* 60000)} variant="distance" />
    <fwc-daterange from={now} to={new Date(now.getTime() + 30 * 24 * 60* 60000)} variant="distance" />
    <fwc-daterange from={now} to={new Date(now.getTime() + 2 * 365 * 24 * 60* 60000)} variant="distance" />
  </Container>
</Story>

### Relative
<Story name="Relative" parameters={{chromatic: { disableSnapshot: true }}}>
  <Container>
    <fwc-daterange from={now} to={new Date(now.getTime()+ 60* 60000)}  variant="relative" />
    <fwc-daterange from={now} to={new Date(now.getTime() + 24* 60* 60000)} variant="relative" />
    <fwc-daterange from={now} to={new Date(now.getTime() + 2* 24 * 60* 60000)} variant="relative" />
    <fwc-daterange from={now} to={new Date(now.getTime() + 30 * 24 * 60* 60000)} variant="relative" />
    <fwc-daterange from={now} to={new Date(now.getTime() + 2 * 365 * 24 * 60* 60000)} variant="relative " />
  </Container>
</Story>

### Formatting

#### yyyy-mm-dd
<Story name="Datetime iso" args={{from: '2021-08-09T09:12:49Z', to: '2021-09-09T09:12:49Z', format:"yyyy-mm-dd", variant:"datetime"}}>
  {DateRange.bind({})}
</Story>

#### d MMMM yy
<Story name="Datetime custom format" args={{from: '2021-08-09T09:12:49Z', to: '2021-09-09T09:12:49Z', format:"d MMMM yy", variant:"datetime"}}>
  {DateRange.bind({})}
</Story>

