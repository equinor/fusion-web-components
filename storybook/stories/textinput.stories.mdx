import { Meta, Story, Canvas, Description } from '@storybook/addon-docs';
import { CustomElement, PackageInfo } from './Components';

import '@equinor/fusion-wc-textinput';

export const Container = ({children}) => (
  <div style={{display: 'flex', gap: '10px', flexWrap: 'wrap'}}>
    {children}
  </div>
);

<Meta title="Input/TextInput" />

<PackageInfo pkg={require('@equinor/fusion-wc-textinput/package.json')}/>

<CustomElement tag="fwc-textinput" data={require('@equinor/fusion-wc-textinput/lib/custom-elements.json')} />

## Stories

### General
<Story name="General">
  <h4>Filled</h4>
  <Container>
    <fwc-textinput label="default" />
    <fwc-textinput label="readonly" readonly/>
    <fwc-textinput label="disabled" disabled/>
  </Container>
  <h4>Outlined</h4>
  <Container>
    <fwc-textinput label="default" variant="outlined" />
    <fwc-textinput label="readonly" variant="outlined" readonly/>
    <fwc-textinput label="disabled" variant="outlined" disabled/>
    <fwc-textinput label="icon" variant="outlined" icon="settings" type="search"/>
  </Container>
</Story>

### Helper text
<Story name="Helper text">
  <Container>
    <fwc-textinput label="Helper text" helper="Helper Text" helperpersistent/>
  </Container>
</Story>

### With Icon
<Story name="With Icon">
  <Container>
    <fwc-textinput label="With Icon" icon="settings"/>
    <fwc-textinput label="With trailing icon" iconTrailing="settings"/>
  </Container>
</Story>

### Character limit
TOOD: missing validation of max length
<Story name="Character limit">
  <Container>
    <fwc-textinput label="Limit" maxlength="18" charCounter value="foo"/>
    <fwc-textinput label="Limit" maxlength="3" charCounter value="foobar"/>
  </Container>
</Story>

### With error message
<Story name="Error message">
  <Container>
    <fwc-textinput label="has error" errorMessage="this is a fixed error"/>
    <fwc-textinput label="no error" errorMessage=""/>
  </Container>
</Story>

### Dense
<Story name="Dense">
  <Container>
    <fwc-textinput label="compact" dense type="search"/>
    <fwc-textinput label="compact" dense type="search" icon="search"/>
    <fwc-textinput label="compact" dense type="search" iconTrailing="search"/>
    <fwc-textinput label="compact" dense variant="outlined"/>
    <fwc-textinput label="compact" dense variant="outlined" icon="search" type="search"/>
    <fwc-textinput label="compact" dense variant="outlined" iconTrailing="search" type="search"/>
  </Container>
</Story>


### Fluid
TODO: this does not seem to work
<Story name="Fluid">
  <fwc-textinput label="Fluid" fullwidth/>
</Story>

